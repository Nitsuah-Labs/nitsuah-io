#!/bin/sh
# Add Node.js to PATH for Git Bash on Windows
export PATH="/c/Program Files/nodejs:$PATH"

echo "üîç Running pre-push validation..."

# Type check
echo "1/3 Type checking..."
npm run typecheck || exit 1

# Lint check (without fix, to catch any issues)
echo "2/3 Running linter..."
npm run lint || {
	echo "‚ö†Ô∏è  Lint errors found. Run 'npm run lint:fix' to auto-fix."
	exit 1
}

# Run full test suite
echo "3/3 Running full test suite..."
npm test || {
	echo "‚ö†Ô∏è  Tests failed. Please fix them before pushing."
	exit 1
}

echo "‚úÖ Pre-push checks passed! CI will run E2E and accessibility tests."
